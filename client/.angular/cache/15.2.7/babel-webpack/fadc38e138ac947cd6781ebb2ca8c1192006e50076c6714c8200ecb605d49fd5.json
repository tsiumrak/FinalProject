{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/LikesService.service\";\nexport class LikeComponent {\n  constructor(likesService) {\n    this.likesService = likesService;\n    this.posts = [];\n    this.postLikes = {};\n  }\n  ngOnInit() {\n    this.likesService.loadLikesFromStorage();\n    this.likesService.getPosts().subscribe(posts => {\n      this.posts = posts;\n      posts.forEach(post => {\n        this.postLikes[post._id] = this.likesService.getLikes(post._id) || 0;\n      });\n    });\n  }\n  addLike(postId) {\n    this.postLikes[postId]++;\n    this.likesService.saveLikesToStorage(this.postLikes);\n  }\n  getTopFivePosts() {\n    const sortedPosts = [...this.posts].sort((a, b) => b.likes - a.likes);\n    return sortedPosts.slice(0, 5);\n  }\n}\nLikeComponent.ɵfac = function LikeComponent_Factory(t) {\n  return new (t || LikeComponent)(i0.ɵɵdirectiveInject(i1.LikesService));\n};\nLikeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LikeComponent,\n  selectors: [[\"app-like\"]],\n  decls: 0,\n  vars: 0,\n  template: function LikeComponent_Template(rf, ctx) {},\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;AASA,OAAM,MAAOA,aAAa;EAIxBC,YAAoBC,YAA0B;IAA1B,iBAAY,GAAZA,YAAY;IAHhC,UAAK,GAAW,EAAE;IAClB,cAAS,GAAiC,EAAE;EAEK;EAEjDC,QAAQ;IACN,IAAI,CAACD,YAAY,CAACE,oBAAoB,EAAE;IACxC,IAAI,CAACF,YAAY,CAACG,QAAQ,EAAE,CAACC,SAAS,CAAEC,KAAK,IAAI;MAC/C,IAAI,CAACA,KAAK,GAAGA,KAAK;MAClBA,KAAK,CAACC,OAAO,CAAEC,IAAI,IAAI;QACrB,IAAI,CAACC,SAAS,CAACD,IAAI,CAACE,GAAG,CAAC,GAAG,IAAI,CAACT,YAAY,CAACU,QAAQ,CAACH,IAAI,CAACE,GAAG,CAAC,IAAI,CAAC;MACtE,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEAE,OAAO,CAACC,MAAc;IACpB,IAAI,CAACJ,SAAS,CAACI,MAAM,CAAC,EAAE;IACxB,IAAI,CAACZ,YAAY,CAACa,kBAAkB,CAAC,IAAI,CAACL,SAAS,CAAC;EACtD;EAEAM,eAAe;IACb,MAAMC,WAAW,GAAG,CAAC,GAAG,IAAI,CAACV,KAAK,CAAC,CAACW,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACC,KAAK,GAAGF,CAAC,CAACE,KAAK,CAAC;IACrE,OAAOJ,WAAW,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;EAChC;;AAxBWtB,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;AAAA","names":["LikeComponent","constructor","likesService","ngOnInit","loadLikesFromStorage","getPosts","subscribe","posts","forEach","post","postLikes","_id","getLikes","addLike","postId","saveLikesToStorage","getTopFivePosts","sortedPosts","sort","a","b","likes","slice","selectors","decls","vars","template","styles"],"sourceRoot":"","sources":["/Users/igortsiumrak/Desktop/FinalProject/client/src/app/components/like/like.component.ts"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport { Post } from \"src/app/models/posts\";\nimport { LikesService } from \"src/app/services/LikesService.service\";\n\n@Component({\n  selector: \"app-like\",\n  templateUrl: \"./like.component.html\",\n  styleUrls: [\"./like.component.css\"],\n})\nexport class LikeComponent implements OnInit {\n  posts: Post[] = [];\n  postLikes: { [postId: number]: number } = {};\n\n  constructor(private likesService: LikesService) {}\n\n  ngOnInit() {\n    this.likesService.loadLikesFromStorage();\n    this.likesService.getPosts().subscribe((posts) => {\n      this.posts = posts;\n      posts.forEach((post) => {\n        this.postLikes[post._id] = this.likesService.getLikes(post._id) || 0;\n      });\n    });\n  }\n\n  addLike(postId: number) {\n    this.postLikes[postId]++;\n    this.likesService.saveLikesToStorage(this.postLikes);\n  }\n\n  getTopFivePosts() {\n    const sortedPosts = [...this.posts].sort((a, b) => b.likes - a.likes);\n    return sortedPosts.slice(0, 5);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}