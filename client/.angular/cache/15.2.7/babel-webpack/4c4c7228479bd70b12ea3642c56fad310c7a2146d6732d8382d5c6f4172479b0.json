{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/LikesService.service\";\nexport class LikeComponent {\n  constructor(likesService) {\n    this.likesService = likesService;\n    this.posts = [];\n  }\n  ngOnInit() {\n    this.likesService.loadLikesFromStorage();\n    this.likesService.getPosts().subscribe(posts => {\n      this.posts = posts;\n    });\n  }\n  addLike(postId) {\n    const likes = this.likesService.getLikes(postId) || 0;\n    this.likesService.saveLikes({\n      ...this.likesService.postLikes,\n      [postId]: likes + 1\n    });\n  }\n  getTopFivePosts() {\n    const sortedPosts = [...this.posts].sort((a, b) => (this.likesService.getLikes(b._id) || 0) - (this.likesService.getLikes(a._id) || 0));\n    return sortedPosts.slice(0, 5);\n  }\n}\nLikeComponent.ɵfac = function LikeComponent_Factory(t) {\n  return new (t || LikeComponent)(i0.ɵɵdirectiveInject(i1.LikesService));\n};\nLikeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LikeComponent,\n  selectors: [[\"app-like\"]],\n  decls: 0,\n  vars: 0,\n  template: function LikeComponent_Template(rf, ctx) {},\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;AASA,OAAM,MAAOA,aAAa;EAGxBC,YAAoBC,YAA0B;IAA1B,iBAAY,GAAZA,YAAY;IAFhC,UAAK,GAAW,EAAE;EAE+B;EAEjDC,QAAQ;IACN,IAAI,CAACD,YAAY,CAACE,oBAAoB,EAAE;IACxC,IAAI,CAACF,YAAY,CAACG,QAAQ,EAAE,CAACC,SAAS,CAAEC,KAAK,IAAI;MAC/C,IAAI,CAACA,KAAK,GAAGA,KAAK;IACpB,CAAC,CAAC;EACJ;EAEAC,OAAO,CAACC,MAAc;IACpB,MAAMC,KAAK,GAAG,IAAI,CAACR,YAAY,CAACS,QAAQ,CAACF,MAAM,CAAC,IAAI,CAAC;IACrD,IAAI,CAACP,YAAY,CAACU,SAAS,CAAC;MAAE,GAAG,IAAI,CAACV,YAAY,CAACW,SAAS;MAAE,CAACJ,MAAM,GAAGC,KAAK,GAAG;IAAC,CAAE,CAAC;EACtF;EAEAI,eAAe;IACb,MAAMC,WAAW,GAAG,CAAC,GAAG,IAAI,CAACR,KAAK,CAAC,CAACS,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK,CAAC,IAAI,CAAChB,YAAY,CAACS,QAAQ,CAACO,CAAC,CAACC,GAAG,CAAC,IAAI,CAAC,KAAK,IAAI,CAACjB,YAAY,CAACS,QAAQ,CAACM,CAAC,CAACE,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;IACvI,OAAOJ,WAAW,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;EAClC;;AApBapB,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;AAAA","names":["LikeComponent","constructor","likesService","ngOnInit","loadLikesFromStorage","getPosts","subscribe","posts","addLike","postId","likes","getLikes","saveLikes","postLikes","getTopFivePosts","sortedPosts","sort","a","b","_id","slice","selectors","decls","vars","template","styles"],"sourceRoot":"","sources":["/Users/igortsiumrak/Desktop/FinalProject/client/src/app/components/like/like.component.ts"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport { Post } from \"src/app/models/posts\";\nimport { LikesService } from \"src/app/services/LikesService.service\";\n\n@Component({\n  selector: \"app-like\",\n  templateUrl: \"./like.component.html\",\n  styleUrls: [\"./like.component.css\"],\n})\nexport class LikeComponent implements OnInit {\n  posts: Post[] = [];\n\n  constructor(private likesService: LikesService) {}\n\n  ngOnInit() {\n    this.likesService.loadLikesFromStorage();\n    this.likesService.getPosts().subscribe((posts) => {\n      this.posts = posts;\n    });\n  }\n\n  addLike(postId: number) {\n    const likes = this.likesService.getLikes(postId) || 0;\n    this.likesService.saveLikes({ ...this.likesService.postLikes, [postId]: likes + 1 });\n  }\n\n  getTopFivePosts() {\n    const sortedPosts = [...this.posts].sort((a, b) => (this.likesService.getLikes(b._id) || 0) - (this.likesService.getLikes(a._id) || 0));\n    return sortedPosts.slice(0, 5);\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}