{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class LikesService {\n  constructor(http) {\n    this.http = http;\n    this.likesKey = \"likes\";\n    this.postLikes = {};\n  }\n  getLikes(postId) {\n    const likes = JSON.parse(localStorage.getItem(this.likesKey) || \"{}\");\n    return likes[postId] || null;\n  }\n  saveLikes(likes) {\n    localStorage.setItem(this.likesKey, JSON.stringify(likes));\n  }\n  getTopPosts(posts, limit = 5) {\n    return posts.sort((a, b) => {\n      const aLikes = this.getLikes(a.id) || 0;\n      const bLikes = this.getLikes(b.id) || 0;\n      return bLikes - aLikes;\n    }).slice(0, limit);\n  }\n}\nLikesService.ɵfac = function LikesService_Factory(t) {\n  return new (t || LikesService)(i0.ɵɵinject(i1.HttpClient));\n};\nLikesService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: LikesService,\n  factory: LikesService.ɵfac,\n  providedIn: \"root\"\n});","map":{"version":3,"mappings":";;AA4BA,OAAM,MAAOA,YAAY;EAIvBC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IAHhB,aAAQ,GAAG,OAAO;IAC1B,cAAS,GAAiC,EAAE;EAEL;EAEvCC,QAAQ,CAACC,MAAc;IACrB,MAAMC,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,IAAI,CAACC,QAAQ,CAAC,IAAI,IAAI,CAAC;IACrE,OAAOL,KAAK,CAACD,MAAM,CAAC,IAAI,IAAI;EAC9B;EAEAO,SAAS,CAACN,KAAmC;IAC3CG,YAAY,CAACI,OAAO,CAAC,IAAI,CAACF,QAAQ,EAAEJ,IAAI,CAACO,SAAS,CAACR,KAAK,CAAC,CAAC;EAC5D;EAEAS,WAAW,CAACC,KAAY,EAAEC,QAAgB,CAAC;IACzC,OAAOD,KAAK,CACTE,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAI;MACb,MAAMC,MAAM,GAAG,IAAI,CAACjB,QAAQ,CAACe,CAAC,CAACG,EAAE,CAAC,IAAI,CAAC;MACvC,MAAMC,MAAM,GAAG,IAAI,CAACnB,QAAQ,CAACgB,CAAC,CAACE,EAAE,CAAC,IAAI,CAAC;MACvC,OAAOC,MAAM,GAAGF,MAAM;IACxB,CAAC,CAAC,CACDG,KAAK,CAAC,CAAC,EAAEP,KAAK,CAAC;EACpB;;AAvBWhB,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;SAAZA,YAAY;EAAAwB,SAAZxB,YAAY;EAAAyB,YAFX;AAAM","names":["LikesService","constructor","http","getLikes","postId","likes","JSON","parse","localStorage","getItem","likesKey","saveLikes","setItem","stringify","getTopPosts","posts","limit","sort","a","b","aLikes","id","bLikes","slice","factory","providedIn"],"sourceRoot":"","sources":["/Users/igortsiumrak/Desktop/FinalProject/client/src/app/services/LikesService.service.ts"],"sourcesContent":["// import { Injectable } from \"@angular/core\";\n// import { HttpClient } from \"@angular/common/http\";\n\n// @Injectable({\n//   providedIn: \"root\",\n// })\n// export class LikesService {\n//   private likesKey = \"likes\";\n//   postLikes: { [postId: number]: number } = {};\n\n//   constructor(private http: HttpClient) {}\n\n//   getLikes(postId: number): number | null {\n//     const likes = JSON.parse(localStorage.getItem(this.likesKey) || \"{}\");\n//     return likes[postId] || null;\n//   }\n\n//   saveLikes(likes: { [postId: number]: number }): void {\n//     localStorage.setItem(this.likesKey, JSON.stringify(likes));\n//   }\n// }\n\nimport { Injectable } from \"@angular/core\";\nimport { HttpClient } from \"@angular/common/http\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class LikesService {\n  private likesKey = \"likes\";\n  postLikes: { [postId: number]: number } = {};\n\n  constructor(private http: HttpClient) {}\n\n  getLikes(postId: number): number | null {\n    const likes = JSON.parse(localStorage.getItem(this.likesKey) || \"{}\");\n    return likes[postId] || null;\n  }\n\n  saveLikes(likes: { [postId: number]: number }): void {\n    localStorage.setItem(this.likesKey, JSON.stringify(likes));\n  }\n\n  getTopPosts(posts: any[], limit: number = 5): any[] {\n    return posts\n      .sort((a, b) => {\n        const aLikes = this.getLikes(a.id) || 0;\n        const bLikes = this.getLikes(b.id) || 0;\n        return bLikes - aLikes;\n      })\n      .slice(0, limit);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}