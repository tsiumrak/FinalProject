{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/LikesService.service\";\nexport class LikeComponent {\n  constructor(likesService) {\n    this.likesService = likesService;\n    this.postLikes = this.likesService.getLikes(this.postId)?.likes ?? null;\n  }\n  like() {\n    const likes = this.likesService.postLikes;\n    this.likesService.postLikes = {\n      ...likes,\n      [this.postId]: (likes[this.postId]?.likes ?? 0) + 1\n    };\n    this.postLikes = this.likesService.getLikes(this.postId)?.likes ?? null;\n  }\n}\nLikeComponent.ɵfac = function LikeComponent_Factory(t) {\n  return new (t || LikeComponent)(i0.ɵɵdirectiveInject(i1.LikesService));\n};\nLikeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LikeComponent,\n  selectors: [[\"app-like\"]],\n  inputs: {\n    postId: \"postId\"\n  },\n  decls: 3,\n  vars: 1,\n  consts: [[1, \"bi\", \"bi-heart-fill\", 3, \"click\"]],\n  template: function LikeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"i\", 0);\n      i0.ɵɵlistener(\"click\", function LikeComponent_Template_i_click_0_listener() {\n        return ctx.likeClick();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(1, \"span\");\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.clicked ? ctx.likesCount : \" \");\n    }\n  },\n  styles: [\".bi-heart-fill[_ngcontent-%COMP%]  {\\n    animation: _ngcontent-%COMP%_pulse 1s infinite;\\n    color: red;\\n  }\\n  \\n  @keyframes _ngcontent-%COMP%_pulse {\\n    0% {\\n      transform: scale(1);\\n    }\\n    50% {\\n      transform: scale(1.5);\\n    }\\n    100% {\\n      transform: scale(1);\\n    }\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9saWtlL2xpa2UuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLDRCQUE0QjtJQUM1QixVQUFVO0VBQ1o7O0VBRUE7SUFDRTtNQUNFLG1CQUFtQjtJQUNyQjtJQUNBO01BQ0UscUJBQXFCO0lBQ3ZCO0lBQ0E7TUFDRSxtQkFBbUI7SUFDckI7RUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi5iaS1oZWFydC1maWxsICB7XG4gICAgYW5pbWF0aW9uOiBwdWxzZSAxcyBpbmZpbml0ZTtcbiAgICBjb2xvcjogcmVkO1xuICB9XG4gIFxuICBAa2V5ZnJhbWVzIHB1bHNlIHtcbiAgICAwJSB7XG4gICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpO1xuICAgIH1cbiAgICA1MCUge1xuICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjUpO1xuICAgIH1cbiAgICAxMDAlIHtcbiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7XG4gICAgfVxuICB9XG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;AAoCA,OAAM,MAAOA,aAAa;EAIxBC,YAAoBC,YAA0B;IAA1B,iBAAY,GAAZA,YAAY;IAC9B,IAAI,CAACC,SAAS,GAAG,IAAI,CAACD,YAAY,CAACE,QAAQ,CAAC,IAAI,CAACC,MAAM,CAAC,EAAEC,KAAK,IAAI,IAAI;EACzE;EAEAC,IAAI;IACF,MAAMD,KAAK,GAAG,IAAI,CAACJ,YAAY,CAACC,SAAS;IACzC,IAAI,CAACD,YAAY,CAACC,SAAS,GAAG;MAC5B,GAAGG,KAAK;MACR,CAAC,IAAI,CAACD,MAAM,GAAG,CAACC,KAAK,CAAC,IAAI,CAACD,MAAM,CAAC,EAAEC,KAAK,IAAI,CAAC,IAAI;KACnD;IACD,IAAI,CAACH,SAAS,GAAG,IAAI,CAACD,YAAY,CAACE,QAAQ,CAAC,IAAI,CAACC,MAAM,CAAC,EAAEC,KAAK,IAAI,IAAI;EACzE;;AAfWN,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAQ;EAAAC;IAAAJ;EAAA;EAAAK;EAAAC;EAAAC;EAAAC;IAAA;MClC1BC,4BAAkD;MAAtBA;QAAA,OAASC,eAAW;MAAA,EAAC;MAACD,iBAAI;MACtDA,4BAAM;MAAAA,YAAgC;MAAAA,iBAAO;;;MAAvCA,eAAgC;MAAhCA,wDAAgC","names":["LikeComponent","constructor","likesService","postLikes","getLikes","postId","likes","like","selectors","inputs","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/Users/igortsiumrak/Desktop/FinalProject/client/src/app/components/like/like.component.ts","/Users/igortsiumrak/Desktop/FinalProject/client/src/app/components/like/like.component.html"],"sourcesContent":["// import { Component } from \"@angular/core\";\n// import { LikesService } from \"src/app/services/LikesService.service\";\n\n// @Component({\n//   selector: \"app-like\",\n//   templateUrl: \"./like.component.html\",\n//   styleUrls: [\"./like.component.css\"],\n// })\n// export class LikeComponent {\n//   clicked = false;\n//   likesCount = 0;\n\n//   constructor(private likesService: LikesService) {}\n\n//   addLike(postId: number) {\n//     const likes = this.likesService.getLikes(postId) || 0;\n//     this.likesService.saveLikes({\n//       ...this.likesService.postLikes,\n//       [postId]: likes + 1,\n//     });\n//   }\n\n//   likeClick() {\n//     this.clicked = true;\n//     this.likesCount++;\n//   }\n// }\n\nimport { Component, Input } from \"@angular/core\";\nimport { LikesService } from \"src/app/services/LikesService.service\";\n\n@Component({\n  selector: \"app-like\",\n  templateUrl: \"./like.component.html\",\n  styleUrls: [\"./like.component.css\"],\n})\nexport class LikeComponent {\n  @Input() postId!: number;\n  postLikes: number | null;\n\n  constructor(private likesService: LikesService) {\n    this.postLikes = this.likesService.getLikes(this.postId)?.likes ?? null;\n  }\n\n  like() {\n    const likes = this.likesService.postLikes;\n    this.likesService.postLikes = {\n      ...likes,\n      [this.postId]: (likes[this.postId]?.likes ?? 0) + 1,\n    };\n    this.postLikes = this.likesService.getLikes(this.postId)?.likes ?? null;\n  }\n}\n","<!-- <i class=\"bi bi-heart-fill\" (click)=\"likeClick()\"></i>\n<span>{{ likesCount }}</span> -->\n<i class=\"bi bi-heart-fill\" (click)=\"likeClick()\"></i>\n<span>{{ clicked ? likesCount : \" \" }}</span>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}